/*
 * File: RNA35b.c
 *
 * MATLAB Coder version            : 2.7
 * C/C++ source code generated on  : 16-Sep-2015 20:20:37
 */

/* Include Files */
#include "rt_nonfinite.h"
#include "RNA35b.h"
#include "RNA35b_emxAPI.h"
#include "RNA35b_emxutil.h"
#include "RNA35b_initialize.h"
#include "RNA35b_terminate.h"
#include "RNA35b_types.h"
#include "rt_nonfinite.h"
#include "rtGetInf.h"
#include "rtGetNaN.h"
#include "rtwtypes.h"



/* Function Declarations */
static void mapminmax_apply(const emxArray_real_T *x, emxArray_real_T *y);
static void softmax_apply(emxArray_real_T *n, emxArray_real_T *a);

/* Function Definitions */

/*
 * Arguments    : const emxArray_real_T *x
 *                emxArray_real_T *y
 * Return Type  : void
 */
static void mapminmax_apply(const emxArray_real_T *x, emxArray_real_T *y)
{
  int k;
  int unnamed_idx_1;
  int asub;
  int ak;
  int ck;
  double av[28];
  double cv[28];
  static const double b[28] = { 67.0, 67.0, 199.9677, 99.1, 12.0, 12.0, 0.0,
    -1.83452863491973, -3.07165820315485, -3.64155435581708, -3.56929876883237,
    -3.9707735980554, -3.73633708072196, -3.78325530302861, -4.54917682387727,
    -3.71955449884929, -3.78906494451508, -4.00997471631115, -3.80157516325814,
    -3.79781134003307, -3.31504520558832, -3.10234738748226, -3.17053421944074,
    -3.1698921100242, -3.63249646300314, -3.21379003518259, -3.40577598144274,
    -1.70139630611735 };

  emxArray_real_T *a;
  emxArray_real_T *r2;
  int csz_idx_1;
  static const double b_b[28] = { 0.000977039570102589, 0.000977039570102589,
    0.0121338901980008, 0.00324254215304799, 0.024390243902439,
    0.00746268656716418, 2.0, 0.588773765559667, 0.330137976487533,
    0.282712269357486, 0.299464370763992, 0.287612918270213, 0.278367452955766,
    0.273556898206861, 0.242946122342346, 0.274802545743605, 0.27098852941646,
    0.268101710906053, 0.267716773371336, 0.279859957010486, 0.298157256818297,
    0.316005936998485, 0.309725530262211, 0.319868286289054, 0.292060807554216,
    0.298193556084659, 0.300392065251682, 0.598524638722814 };

  /*  ===== MODULE FUNCTIONS ======== */
  /*  Map Minimum and Maximum Input Processing Function */
  k = y->size[0] * y->size[1];
  y->size[0] = 28;
  y->size[1] = x->size[1];
  emxEnsureCapacity((emxArray__common *)y, k, (int)sizeof(double));
  unnamed_idx_1 = x->size[1];
  if (unnamed_idx_1 == 0) {
  } else {
    asub = 1;
    ak = 0;
    unnamed_idx_1 = x->size[1];
    unnamed_idx_1 *= 28;
    for (ck = 0; ck <= unnamed_idx_1 - 28; ck += 28) {
      for (k = 0; k < 28; k++) {
        av[k] = x->data[ak + k];
      }

      for (k = 0; k < 28; k++) {
        cv[k] = av[k] - b[k];
      }

      for (k = 0; k < 28; k++) {
        y->data[ck + k] = cv[k];
      }

      if (asub < x->size[1]) {
        ak += 28;
        asub++;
      } else {
        asub = 1;
      }
    }
  }

  emxInit_real_T(&a, 2);
  k = a->size[0] * a->size[1];
  a->size[0] = 28;
  a->size[1] = y->size[1];
  emxEnsureCapacity((emxArray__common *)a, k, (int)sizeof(double));
  unnamed_idx_1 = y->size[0] * y->size[1];
  for (k = 0; k < unnamed_idx_1; k++) {
    a->data[k] = y->data[k];
  }

  emxInit_real_T(&r2, 2);
  csz_idx_1 = y->size[1];
  k = r2->size[0] * r2->size[1];
  r2->size[0] = 28;
  emxEnsureCapacity((emxArray__common *)r2, k, (int)sizeof(double));
  unnamed_idx_1 = y->size[1];
  k = r2->size[0] * r2->size[1];
  r2->size[1] = unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)r2, k, (int)sizeof(double));
  unnamed_idx_1 = 28 * y->size[1];
  for (k = 0; k < unnamed_idx_1; k++) {
    r2->data[k] = 0.0;
  }

  k = y->size[0] * y->size[1];
  y->size[0] = 28;
  y->size[1] = csz_idx_1;
  emxEnsureCapacity((emxArray__common *)y, k, (int)sizeof(double));
  if (csz_idx_1 == 0) {
  } else {
    asub = 1;
    ak = 0;
    unnamed_idx_1 = 28 * r2->size[1];
    for (ck = 0; ck <= unnamed_idx_1 - 28; ck += 28) {
      for (k = 0; k < 28; k++) {
        av[k] = a->data[ak + k];
      }

      for (k = 0; k < 28; k++) {
        cv[k] = av[k] * b_b[k];
      }

      for (k = 0; k < 28; k++) {
        y->data[ck + k] = cv[k];
      }

      if (asub < a->size[1]) {
        ak += 28;
        asub++;
      } else {
        asub = 1;
      }
    }
  }

  k = a->size[0] * a->size[1];
  a->size[0] = 28;
  a->size[1] = y->size[1];
  emxEnsureCapacity((emxArray__common *)a, k, (int)sizeof(double));
  unnamed_idx_1 = y->size[0] * y->size[1];
  for (k = 0; k < unnamed_idx_1; k++) {
    a->data[k] = y->data[k];
  }

  csz_idx_1 = y->size[1];
  k = r2->size[0] * r2->size[1];
  r2->size[0] = 28;
  emxEnsureCapacity((emxArray__common *)r2, k, (int)sizeof(double));
  unnamed_idx_1 = y->size[1];
  k = r2->size[0] * r2->size[1];
  r2->size[1] = unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)r2, k, (int)sizeof(double));
  unnamed_idx_1 = 28 * y->size[1];
  for (k = 0; k < unnamed_idx_1; k++) {
    r2->data[k] = 0.0;
  }

  k = y->size[0] * y->size[1];
  y->size[0] = 28;
  y->size[1] = csz_idx_1;
  emxEnsureCapacity((emxArray__common *)y, k, (int)sizeof(double));
  if (csz_idx_1 == 0) {
  } else {
    asub = 1;
    ak = 0;
    unnamed_idx_1 = 28 * r2->size[1];
    for (ck = 0; ck <= unnamed_idx_1 - 28; ck += 28) {
      for (k = 0; k < 28; k++) {
        av[k] = a->data[ak + k];
      }

      for (csz_idx_1 = 0; csz_idx_1 < 28; csz_idx_1++) {
        cv[csz_idx_1] = av[csz_idx_1] + -1.0;
      }

      for (k = 0; k < 28; k++) {
        y->data[ck + k] = cv[k];
      }

      if (asub < a->size[1]) {
        ak += 28;
        asub++;
      } else {
        asub = 1;
      }
    }
  }

  emxFree_real_T(&r2);
  emxFree_real_T(&a);
}

/*
 * Arguments    : emxArray_real_T *n
 *                emxArray_real_T *a
 * Return Type  : void
 */
static void softmax_apply(emxArray_real_T *n, emxArray_real_T *a)
{
  unsigned int outsz[2];
  int i0;
  emxArray_real_T *nmax;
  int ix;
  int iy;
  int ak;
  int ixstart;
  double s;
  int csz_idx_1;
  boolean_T exitg1;
  emxArray_real_T *numer;
  int bk;
  double av[5];
  int k;
  double cv[5];
  emxArray_boolean_T *x;
  emxArray_int32_T *indx;

  /*  Competitive Soft Transfer Function */
  for (i0 = 0; i0 < 2; i0++) {
    outsz[i0] = (unsigned int)n->size[i0];
  }

  emxInit_real_T(&nmax, 2);
  i0 = nmax->size[0] * nmax->size[1];
  nmax->size[0] = 1;
  nmax->size[1] = (int)outsz[1];
  emxEnsureCapacity((emxArray__common *)nmax, i0, (int)sizeof(double));
  ix = 0;
  iy = -1;
  for (ak = 1; ak <= n->size[1]; ak++) {
    ix += 5;
    ixstart = ix - 4;
    s = n->data[ix - 5];
    if (rtIsNaN(n->data[ix - 5])) {
      csz_idx_1 = ix - 3;
      exitg1 = false;
      while ((!exitg1) && (csz_idx_1 <= ix)) {
        ixstart = csz_idx_1;
        if (!rtIsNaN(n->data[csz_idx_1 - 1])) {
          s = n->data[csz_idx_1 - 1];
          exitg1 = true;
        } else {
          csz_idx_1++;
        }
      }
    }

    if (ixstart < ix) {
      while (ixstart + 1 <= ix) {
        if (n->data[ixstart] > s) {
          s = n->data[ixstart];
        }

        ixstart++;
      }
    }

    iy++;
    nmax->data[iy] = s;
  }

  i0 = a->size[0] * a->size[1];
  a->size[0] = 5;
  a->size[1] = n->size[1];
  emxEnsureCapacity((emxArray__common *)a, i0, (int)sizeof(double));
  ixstart = n->size[0] * n->size[1];
  for (i0 = 0; i0 < ixstart; i0++) {
    a->data[i0] = n->data[i0];
  }

  emxInit_real_T(&numer, 2);
  csz_idx_1 = n->size[1];
  i0 = numer->size[0] * numer->size[1];
  numer->size[0] = 5;
  emxEnsureCapacity((emxArray__common *)numer, i0, (int)sizeof(double));
  ixstart = n->size[1];
  i0 = numer->size[0] * numer->size[1];
  numer->size[1] = ixstart;
  emxEnsureCapacity((emxArray__common *)numer, i0, (int)sizeof(double));
  ixstart = 5 * n->size[1];
  for (i0 = 0; i0 < ixstart; i0++) {
    numer->data[i0] = 0.0;
  }

  i0 = n->size[0] * n->size[1];
  n->size[0] = 5;
  n->size[1] = csz_idx_1;
  emxEnsureCapacity((emxArray__common *)n, i0, (int)sizeof(double));
  if (csz_idx_1 == 0) {
  } else {
    ix = 1;
    iy = 1;
    ak = 0;
    bk = 0;
    csz_idx_1 = 5 * numer->size[1];
    for (ixstart = 0; ixstart <= csz_idx_1 - 5; ixstart += 5) {
      for (k = 0; k < 5; k++) {
        av[k] = a->data[ak + k];
      }

      s = nmax->data[bk];
      for (i0 = 0; i0 < 5; i0++) {
        cv[i0] = av[i0] - s;
      }

      for (k = 0; k < 5; k++) {
        n->data[ixstart + k] = cv[k];
      }

      if (ix < a->size[1]) {
        ak += 5;
        bk++;
        iy++;
        ix++;
      } else if (iy < nmax->size[1]) {
        bk++;
        iy++;
      } else {
        ix = 1;
        iy = 1;
      }
    }
  }

  i0 = numer->size[0] * numer->size[1];
  numer->size[0] = 5;
  numer->size[1] = n->size[1];
  emxEnsureCapacity((emxArray__common *)numer, i0, (int)sizeof(double));
  ixstart = n->size[0] * n->size[1];
  for (i0 = 0; i0 < ixstart; i0++) {
    numer->data[i0] = n->data[i0];
  }

  i0 = 5 * n->size[1];
  for (k = 0; k < i0; k++) {
    numer->data[k] = exp(numer->data[k]);
  }

  for (i0 = 0; i0 < 2; i0++) {
    outsz[i0] = (unsigned int)numer->size[i0];
  }

  i0 = nmax->size[0] * nmax->size[1];
  nmax->size[0] = 1;
  nmax->size[1] = (int)outsz[1];
  emxEnsureCapacity((emxArray__common *)nmax, i0, (int)sizeof(double));
  if (numer->size[1] == 0) {
    i0 = nmax->size[0] * nmax->size[1];
    nmax->size[0] = 1;
    emxEnsureCapacity((emxArray__common *)nmax, i0, (int)sizeof(double));
    i0 = nmax->size[0] * nmax->size[1];
    nmax->size[1] = (int)outsz[1];
    emxEnsureCapacity((emxArray__common *)nmax, i0, (int)sizeof(double));
    ixstart = (int)outsz[1];
    for (i0 = 0; i0 < ixstart; i0++) {
      nmax->data[i0] = 0.0;
    }
  } else {
    ix = 0;
    iy = -1;
    for (ak = 1; ak <= numer->size[1]; ak++) {
      ixstart = ix;
      ix++;
      s = numer->data[ixstart];
      for (k = 0; k < 4; k++) {
        ix++;
        s += numer->data[ix - 1];
      }

      iy++;
      nmax->data[iy] = s;
    }
  }

  emxInit_boolean_T(&x, 2);
  i0 = x->size[0] * x->size[1];
  x->size[0] = 1;
  x->size[1] = nmax->size[1];
  emxEnsureCapacity((emxArray__common *)x, i0, (int)sizeof(boolean_T));
  ixstart = nmax->size[0] * nmax->size[1];
  for (i0 = 0; i0 < ixstart; i0++) {
    x->data[i0] = (nmax->data[i0] == 0.0);
  }

  csz_idx_1 = x->size[1];
  k = 0;
  for (ak = 1; ak <= csz_idx_1; ak++) {
    if (x->data[ak - 1]) {
      k++;
    }
  }

  emxInit_int32_T(&indx, 2);
  i0 = indx->size[0] * indx->size[1];
  indx->size[0] = 1;
  indx->size[1] = k;
  emxEnsureCapacity((emxArray__common *)indx, i0, (int)sizeof(int));
  ixstart = 0;
  for (ak = 1; ak <= csz_idx_1; ak++) {
    if (x->data[ak - 1]) {
      indx->data[ixstart] = ak;
      ixstart++;
    }
  }

  emxFree_boolean_T(&x);
  ixstart = indx->size[0] * indx->size[1];
  for (i0 = 0; i0 < ixstart; i0++) {
    nmax->data[indx->data[i0] - 1] = 1.0;
  }

  emxFree_int32_T(&indx);
  i0 = a->size[0] * a->size[1];
  a->size[0] = 5;
  a->size[1] = numer->size[1];
  emxEnsureCapacity((emxArray__common *)a, i0, (int)sizeof(double));
  ixstart = numer->size[1];
  if (ixstart == 0) {
  } else {
    ix = 1;
    iy = 1;
    ak = 0;
    bk = 0;
    ixstart = numer->size[1];
    csz_idx_1 = 5 * ixstart;
    for (ixstart = 0; ixstart <= csz_idx_1 - 5; ixstart += 5) {
      for (k = 0; k < 5; k++) {
        av[k] = numer->data[ak + k];
      }

      s = nmax->data[bk];
      for (i0 = 0; i0 < 5; i0++) {
        cv[i0] = av[i0] / s;
      }

      for (k = 0; k < 5; k++) {
        a->data[ixstart + k] = cv[k];
      }

      if (ix < numer->size[1]) {
        ak += 5;
        bk++;
        iy++;
        ix++;
      } else if (iy < nmax->size[1]) {
        bk++;
        iy++;
      } else {
        ix = 1;
        iy = 1;
      }
    }
  }

  emxFree_real_T(&numer);
  emxFree_real_T(&nmax);
}

/*
 * MYNEURALNETWORKFUNCTION neural network simulation function.
 *
 *  Generated by Neural Network Toolbox function genFunction, 03-Sep-2015 13:12:30.
 *
 *  [y1] = myNeuralNetworkFunction(x1) takes these arguments:
 *    x = 28xQ matrix, input #1
 *  and returns:
 *    y = 5xQ matrix, output #1
 *  where Q is the number of samples.
 * Arguments    : const emxArray_real_T *x1
 *                emxArray_real_T *b_y1
 * Return Type  : void
 */
void RNA35b(const emxArray_real_T *x1, emxArray_real_T *b_y1)
{
  emxArray_real_T *xp1;
  emxArray_real_T *a1;
  int unnamed_idx_1;
  int ibtile;
  int br;
  int32_T exitg2;
  static const double a[35] = { 0.55760350614581422, -1.5539380675798411,
    1.4688875378397546, 1.2857138811717186, 1.4283762615169051,
    -3.8079547396796043, -2.5414950482306224, -0.78934648233592586,
    -0.18861568535877715, -1.4615236851544362, -0.32276517636431629,
    1.0014284564392739, 0.3096146343649343, -0.027770662316979076,
    0.0056418748888252962, -2.2466076868810623, -2.0896628005207467,
    0.56377931476403675, -0.024786661258459752, 1.059982944204189,
    1.715979970305425, -2.5317368883935831, -0.0985821640875148,
    -1.4278694580206486, 4.6917132211583876, -0.70763534868609346,
    -0.57548955575672534, -0.87693203238955841, 2.7639661885727431,
    -0.29072496379947282, 1.3038374194818536, 1.2222324713057315,
    1.4815678348427215, -1.6655259474263318, -3.7557766374996122 };

  emxArray_real_T *C;
  unsigned int b_unnamed_idx_1;
  int ic;
  int ar;
  int ib;
  int ia;
  static const double dv0[980] = { 1.2605926238617435, 4.5470916495731277,
    -0.20226382270753182, -0.045602386616975646, -1.1713327854011704,
    -0.3394280932816619, 0.097696889146480684, -0.43017625294209677,
    -0.50882034302197932, 0.40494879304234216, -2.014720876696348,
    -0.11745135646589817, -0.90640013639692685, 0.0059799033376710864,
    5.459590451132704, -0.42001711888212245, -4.016237409418185,
    -1.7464408126597641, 0.34669449993993384, 1.1260336293810875,
    0.28896075809208133, -5.353279095261418, -0.35703913808137755,
    -0.46703889699708578, 2.2164913512300504, -0.53746728597986615,
    0.17890284536567444, -0.1072583695478832, 3.733915970984818,
    3.3415108168354846, 0.74292351864143491, 0.20744664571717086,
    -0.22403486560926308, 0.21776286122913963, -1.0446330981496672,
    -1.2993912282140598, -2.8662437852932428, -0.21417842477664181,
    0.18972926458531095, 1.3855404249003704, 0.38690349480043035,
    -1.8727447452895396, -0.37301543319086822, 0.27906901367269293,
    0.53022902865420851, 1.8889401624240392, -0.23406403985505098,
    -0.77849050239011641, 1.5394366098629841, -2.1488045882813975,
    -0.763343728461485, 1.8945476991223162, -0.22054500015036643,
    0.35430502681787113, 1.0887272942648933, -1.2097690874303133,
    0.18524278585311249, 1.7013379751566262, -1.1405599014905101,
    -0.20751078461936684, 0.956729348428884, -0.18075510451900786,
    -0.61177379774161444, -2.1109876759197919, -1.7655416205888466,
    -0.21423818558457186, -0.15704435267979455, -0.47894520708098737,
    -0.63819444484172561, 2.0024858075252228, 0.32606817196373289,
    -0.37460880858536749, 0.0548583464726635, 0.66361264025804478,
    1.3634715861659203, -1.0260587657301115, -0.58120964967767585,
    0.46115757988334516, 0.70651997766737684, -0.55987773726779866,
    -0.79507389834906284, 0.42096400968672387, 0.25980384696698194,
    -0.81071881593681239, -0.29545850007335434, 1.5354017674915013,
    5.9796668496249223, 2.8570376336353616, 0.87209679863841538,
    -0.30326418790198667, -3.0807211117119184, 0.15708935539588459,
    -5.2989271767017394, 1.1924795339428349, -0.042305030509905653,
    -1.2091327605972604, -0.7562354775128568, 0.81642668800577656,
    0.10436091598798181, 1.471707349881084, 0.19802404362181894,
    0.49597048369291058, -0.070484822660575527, 0.67288200223858885,
    -2.0892271465005789, 1.6554028635082105, 0.19830741936164908,
    -0.00015146853812303537, 0.43808410350922494, 1.071368222139149,
    -3.454027550425379, -1.1794247563030698, -1.1578667353009056,
    -0.38252804290476589, 0.2602833578261447, 3.0618740300624707,
    0.30864011783442907, -0.49314696401496139, 0.78772149338112618,
    -2.0694165742416852, -2.117597153188421, -3.3170003666184438,
    -1.9681552025490667, 0.78795793815316362, -0.11587874188601201,
    0.27451710295954812, 0.058259782933973173, -0.9623686308643008,
    3.0184912845973053, 1.4612136255068544, 0.57029673392460245,
    0.54415294353809451, 0.6826278253338145, -0.43656961276388,
    -1.2167164594429187, 0.502906269197353, 0.11541502812158337,
    -0.055933537460660467, 0.26447296971622086, -0.70739173520579635,
    -0.23999211556019323, -1.3100509552670663, -0.35567594602749397,
    0.37846410172028877, -0.67959246764948367, 0.062105923619492721,
    -0.48321026796959404, 0.62055787324431566, -1.5114289888130792,
    -0.36638634797819791, -1.9139369187545019, 0.21131983053647282,
    0.56202373342792045, 0.62044581461812243, -0.83508440680815244,
    -0.11236523255926009, 0.959474983089712, 3.555341778806973,
    -0.48262135139566892, 2.1803258752185322, -1.8045811471588851,
    1.5914382938795575, -0.4546764651669154, 0.0069786139727308792,
    1.0083386400320635, -0.566317284010794, 0.52825801377223625, 0.2007362825058,
    1.8273289177865473, -2.1736304809023492, -0.712749709863278,
    -0.059436504860058054, -0.39945483912149693, -0.39496489002218471,
    -1.8672469910044154, -0.6842575437536591, 0.83763867176073337,
    0.57663455245651585, -0.4439519309849409, 0.23517536281043525,
    0.88786195472835983, 0.62516182348561944, -1.2115310399781165,
    0.70686037233861521, -1.0068520696426417, 1.3714868520342391,
    0.238313892676143, 0.60763479172185253, 0.31150959059247013,
    0.53549222173047517, -0.25396525430759315, -0.86009563151974167,
    -0.28163627372638267, -0.031681554309622863, 0.03512130246733914,
    0.94988886272685447, -0.33327295769267956, -0.400072778995854,
    -0.40484044437601768, -0.41510446536124879, -0.24866174289660994,
    0.79216911986235083, -0.29327670383360982, -0.995765923674884,
    2.6379487951203329, 0.65848739291710778, -0.36692016776435249,
    -0.40807583393088787, -0.17598404165408663, 0.83828779173052792,
    0.35057097012024424, 1.2700406756573148, -0.350063320962336,
    -0.27227610837894545, -0.48431310292744251, -0.091547185630114061,
    -0.012205256050904483, -0.081416983904114226, 0.015022169953748259,
    -0.46059699342159166, 0.11237397859108385, -0.068061853535510225,
    -0.40780359950663331, -0.050660483952268145, 0.0872298911520995,
    0.19286693609648847, 0.1170415782774286, 0.084337326061150714,
    -0.48088296997857288, 0.17609279183643931, 0.098405252338743074,
    -0.1287008122165956, -0.15176932517861119, 0.35201213643387563,
    -0.13787905780394147, -0.007260273300305306, 0.41401961304379192,
    1.2527276941669114, 0.12561647290452624, -0.10043681789467354,
    -0.99641630706856388, -0.28820594116535186, 0.40885081453997296,
    1.2680014879753834, 0.12223294447094475, 1.1281821943833246,
    -1.8430139450738643, -0.18399973944383335, 0.12926533518940386,
    -1.0083085274308559, 0.22660557874539675, -0.32394196542313725,
    1.3522181701954159, 0.29797327890651759, -0.689160701421789,
    0.65880241695806352, 0.69086449221904467, -0.17956404624820249,
    -0.63299510358728861, -0.58684680244774057, -2.0435607876208892,
    1.4060282295582165, 0.22928277296757224, 0.24215714866851074,
    1.6902632192663367, 0.74772061604832407, -0.26693024363508927,
    -0.12881529974381845, -0.558296980421066, -0.60283603555132037,
    -0.46621544162713296, -0.33491769504367591, -0.16624277354938907,
    1.1134737928224676, 0.65101278235171967, 0.2054086264650172,
    0.24704122191960534, 0.21835113789603486, -0.14916086970303172,
    -0.7644133308949197, 0.325948466241558, -1.7606231432384378,
    -0.43942174561223318, -0.063217042097998583, -0.95556500656375276,
    -0.516314182321545, -1.870839479554576, -1.68521257615784,
    1.6594819104769667, 0.47331870728708181, -0.19127898071815558,
    0.16014348479946625, -0.5914155864391013, -0.41976135764496775,
    -2.1178021176335218, 0.22600634442515238, 1.1264348810322358,
    0.41302437638029993, -0.14663354116117866, 2.1404889458649472,
    -0.041688856829725174, -0.729339534307422, -0.68093570577277374,
    0.15784520048144282, -0.80702757447823747, 0.14523946274855723,
    -1.0076257016292363, -0.80752912537548949, 3.0169896758594734,
    -4.04047945129171, -0.43851250583827889, 0.5278389928250522,
    -0.26095879630091767, 0.0946226528957414, -2.9680261531067345,
    -2.0827600143078255, 1.0810968616592833, -0.424551074887403,
    0.037544852454615543, 0.56978736277387176, 0.946125902787426,
    -0.22002246617376464, -0.25087609512207454, -0.88078428596358049,
    0.28251841069340267, 2.0210884893695513, 0.026978169831889769,
    -0.39796862920257209, 0.12135974887441198, 3.75176648614536,
    2.1186408988083492, -0.35675176363660532, -1.8536862260354767,
    -0.39378991863526353, 0.33274716190810139, 1.832777403633288,
    -1.8602398401166818, -4.1090572443920745, -0.55189179242596043,
    -1.9471206630497828, -0.14690383972655904, -0.78137662520948437,
    0.081740433141203855, -2.6454491563311331, 3.5742767290957129,
    0.10054339530682663, 0.31808015310821619, -0.3413597108565542,
    0.44896873469070381, 3.0312643883807073, 0.65316045476327245,
    0.32679838107804188, -0.699141910363169, -0.47902422139176953,
    -0.678123389354928, -0.2801945603112227, -0.94750921501184371,
    -2.8362077930303893, -4.8178143983255248, 1.6468206422959117,
    -1.4428741638992142, 0.20078269755939951, -1.0355458060636276,
    0.0025789560266184686, 3.0319927196375618, 3.6221978536768367,
    1.3252116791269479, -2.4179970897064682, -0.43443948619576533,
    0.98470475840698257, 0.55685961989358013, -2.7921845062018056,
    -0.88866052870080237, -1.1223128580014181, -1.7885695697772335,
    0.12233249104331798, -0.49910504236039083, -0.4810075347605679,
    1.1798688251153298, -5.1291681220925485, -0.39448368402104916,
    0.55263155624065829, 0.041125295970926741, 1.8876115145306769,
    -0.12835103974295678, -0.861788857432647, -0.98701561078227651,
    0.13220706940585802, 0.14929420602430915, 0.15542036061669659,
    -0.0077742968677596566, 0.77047943199151347, 1.6318437880529666,
    -4.5091136975023991, 2.0712470052432312, 0.4358531902711727,
    -0.61702611876215674, -1.0226422176471035, -1.8294304946259849,
    -0.07753160229027739, 2.7836867619998973, -1.000290090036267,
    0.19777368464120279, 0.47630673105120075, -1.9013622509350074,
    -0.38979914268098237, 2.0924151309597527, 1.1327454256607181,
    -0.88099933678266329, -0.52345302434458107, -0.21417099014807181,
    -0.82950240760695937, -0.54057850173198418, 2.7028875656356428,
    0.505296270027844, -0.72781309084923806, -0.096050021221934123,
    -0.14474228736426933, -0.68743305369655217, 0.83087296814132994,
    1.2734797077786859, -0.094740404596716218, 0.12520008371709893,
    0.29021643305266831, -0.5826437456651169, 0.087181534216176151,
    0.17099229111325057, -0.15523362271022767, 3.214715665273566,
    0.2407402426140626, 0.013885594446638014, -0.53159578008253849,
    -1.1338678601144121, -1.8498524016190698, -2.3463180796598611,
    0.83249391221932889, -1.2813580608669546, 0.38189905251813594,
    0.36650609270106677, -1.3777061523418168, -0.4398930651968771,
    1.8968427188960648, 0.63066860778715739, 0.02988407281410085,
    -2.385384866074884, 0.026554225294202941, -0.50522786667969866,
    0.87191699011743, -1.7721959885160592, 1.9070373790626585,
    0.12183969386992559, 0.44447002532819513, 0.12627814870788934,
    -1.2511756693067517, 0.56652450148168731, 0.32431035323050528,
    0.604408905828384, -0.31475257287022734, 0.059589112229256253,
    -0.81268170388595773, 0.13149119677630544, 0.40349338943664764,
    1.6920042091257015, 1.4557981034613234, -1.2310894598321336,
    0.10672935126292964, -0.33228310190573263, -0.86979227810551563,
    -0.058302905835785263, -0.82484510556515189, 0.17226211715275769,
    2.2393371413573093, -1.5409093171580419, 0.35893684694343914,
    -0.51588106518732491, -0.20414389676206593, 1.4036472274739258,
    2.1615323598653879, 0.59320461203722219, 1.7644267490590619,
    -0.31830824274525338, 0.570953458595262, 0.88451762452354143,
    0.024330599166704651, 1.0257401193813009, -0.22863322018760079,
    -0.042552603568971822, 0.1927907975424564, -0.867342132647834,
    -0.27298288439503915, 0.35714135521094686, 0.27620228419483939,
    0.55937367879345778, -0.17275799233378589, -0.36886943212483253,
    0.29968240762701809, -0.931883393172694, 1.0830511021411786,
    0.89062871611137173, -0.53657572593911029, 0.52267814216953834,
    -0.24917341448846708, -0.36473574089259758, -1.1076648007361714,
    -2.4809187925772784, -0.95474051000629756, -0.21649363047899853,
    -0.79906358081108519, -0.40354148606177487, -0.32250666028740732,
    0.18205676559555992, 1.0909937794989413, 0.89632474610884583,
    -0.13310519676929009, 0.9400004180071424, -0.21656297542730932,
    0.37262653087596859, 0.70607157311121282, -0.81649887158038914,
    1.1143521692923848, 0.72764767427978161, 0.27851093942611921,
    -0.15171797580852084, -0.54331909079220475, -0.072520746371981692,
    0.13494977234281569, 0.50184311952555416, -0.31095932291265749,
    -0.19849887455614376, 0.27988873010432413, -1.1051964764340463,
    -1.9319890155913986, 1.0974913917900184, 0.19282101480400238,
    -0.407258531502199, -0.90881885765767645, -0.85346205097619221,
    -0.93880824136164664, -0.57762197841430363, -0.4236939204030658,
    -0.82264866391422009, -0.93600002385874281, -0.32262754568632124,
    0.46854064989536787, -1.0392798564431649, -0.16774588453979611,
    0.55699588028144975, 2.1025968887275037, -0.57320641648805393,
    1.6795430168887695, 0.23003253079422178, 0.61399576512864951,
    -0.70439846957025332, -0.62445508317041587, 1.376439444065837,
    -0.29064476859324123, 1.0311283369395117, 0.1875011911836329,
    -0.27877757067538672, -0.65828107276248937, 1.2951773642340814,
    -0.32898243493662149, 0.080356631443678939, 0.049291842855123731,
    -0.87085895185820272, 0.014310549524788822, -0.42216797928392824,
    2.4332372804149673, 0.83814367110308541, -0.55664655534815566,
    -0.87838305726978838, -0.10223408183989738, -0.61639814533446213,
    -0.87007637979499763, 1.0823647512756478, -0.94442366709656467,
    -0.48919424838102116, -0.38998123633220844, -0.49568790769567062,
    0.096197539715529232, -0.18039280995113588, -0.34331541789847247,
    1.2460791857548159, 0.15478713618983359, 1.1333038936556734,
    -0.041946725304742923, 1.2689510765099614, -0.63454294754060492,
    -0.91586419383540774, 0.78650541490799952, 0.257866667569167,
    0.25503175872764594, 0.00086901320033836089, 0.97673504841532888,
    0.61577838303767274, 0.84902898485161182, 0.48850403553004762,
    0.079881711004392328, 0.36492093319828289, -0.86509579565814976,
    0.34437629388122293, 1.0694637404421767, 2.7154877124757739,
    0.67063715112478339, -1.10603002993639, -1.1600709500684729,
    -0.097252497954086151, -0.28202675076156558, -0.53623168521914166,
    3.0247069019738477, 0.45379127611772307, -0.10115594821689783,
    -0.89237358046735538, 0.028431119738869415, 0.78361367059642539,
    -0.22763084391648811, -0.093776300168304461, 0.28352649161440996,
    -0.460989438762268, 0.776416299323162, -0.28198282475897291,
    0.9035822750386181, 0.38290506654970063, -1.7318376502653687,
    0.33461538903011157, 0.40635215819534509, 0.47116705919185192,
    0.3250663087559344, 1.0189168875761889, 1.2349353678095218,
    0.77293041117495731, 0.17886579340977476, -0.21850400406420398,
    -0.50209733093424269, -1.2032769741778409, 0.98611290652934291,
    1.0680260513335256, 0.36025678667717376, 2.1452157639567173,
    -0.727012368768758, -0.75617582351088508, 0.69738596630952421,
    0.22825075968869554, -0.87590883170563438, 0.99642512653464632,
    -1.5009148175742142, 1.2302004918298974, 0.28568645400246584,
    0.15528546655279826, 0.34927279121656296, 0.29709158118947204,
    0.18638010766308716, -0.66057869942436576, -0.055778717034010605,
    -0.6872399738478997, -0.66665885242838585, 0.55620183373471721,
    0.50728740894379576, -2.3360911454791129, 1.2381401306141395,
    0.48510427518650251, 0.33801375027638342, 0.0330727932034216,
    0.472744200119541, 0.46634315887118755, -0.80200732903214755,
    0.64023999701266454, -0.28464169973389281, -0.4100513870450056,
    1.5485082868504825, -0.48162476113901076, -0.21787213489833551,
    -0.5892197113133093, 1.4630161445995995, 0.18400189405862877,
    -0.51993541907164087, 0.55706565570488176, -0.71928030761800843,
    -0.24765530505256589, -1.070159913377621, -2.1395719128514408,
    0.49756836283030753, 0.61042234543357754, -0.34266426757466223,
    0.0002924031305213356, 0.49069100208293609, 0.72185894679925822,
    -0.40907565167365845, 0.47967839060029827, 1.9225979673365492,
    0.17877878560091348, 0.42324625765929508, -0.078567274366178441,
    -1.255455118399212, 1.4046863107713454, -0.39830659271538577,
    0.030665747093781465, -0.46769452756416396, -0.49348819882989087,
    -1.4100932908585071, -0.93118871205015752, 0.32562610527886182,
    -0.15543659364787338, 0.0089237165949798032, 1.709508111727829,
    -0.13723481839612872, 0.5710777497478926, -0.52612319460300772,
    0.56631651891817714, 0.45753783800122533, -0.07638496946577801,
    0.52403235750809218, -0.02203936822891487, -0.37300187372463528,
    -1.2000431767054753, -1.3982613394397312, -0.54803472708385825,
    -0.029982545397640045, -0.07394034422480654, -0.87674737649171475,
    0.031423182773268339, 0.46550822625994775, -1.1916515980500322,
    -0.14234267067707648, 0.7856321979208889, -0.0563356256295852,
    -0.57874770874507775, 0.753448552815807, 0.22871782132201249,
    0.43924918559565307, 0.57766559447394239, 0.37509275307737733,
    0.19989221586915776, -0.13802315836529377, -0.90562797039451348,
    -0.49242136809580295, 0.17935795527670695, -0.092997813826879078,
    0.44223852594468638, 1.9012896584259658, 0.061443062929306541,
    0.94328570040248472, -1.06715502051451, 0.056061723606895084,
    -0.219317163374451, -0.48833013506035272, 0.63517831957210957,
    -0.60220181605509071, 0.93308001821314657, -0.83284973933773787,
    -1.4318976753907342, -0.38899100503016654, 0.74607595885537126,
    0.16623194066904889, -0.29196519181675723, 0.42418190756291274,
    -0.58624149096003564, -0.40029315664764159, 0.13141786116936047,
    -0.24733733910019179, 0.30069562857369175, -0.24856437093648484,
    0.46431610894748487, 0.55728995339242771, -1.7348767044547315,
    -0.39304472559141751, -0.70919240075905454, -0.21762206648977953,
    -0.65705288352814339, 0.05768870797548091, -0.32056520225667834,
    -0.96627154105561908, 0.39704392739952143, 0.36561910344504495,
    1.9907182819915703, 0.66177994321988776, -0.0054918267554303962,
    -0.40760121138612843, 0.44680121564414871, 0.019633453217829798,
    0.80335226396084525, 0.34692915599034696, -0.10112843781880602,
    1.3292269172211124, -1.1469013105582104, -0.038035863452507673,
    -0.368277082932314, 1.3310779417653611, 0.05122938502584632,
    -0.10360125595966319, 0.43416195467228391, -0.93310491750280256,
    0.1555388117140952, -0.89438338872954071, 1.4383525686699683,
    0.51889814424730041, -0.016157373711667981, -0.04623291315378493,
    1.0034128691014561, -0.44731855386453312, 0.25618940698531806,
    -0.3938195197094238, 0.27235940719560531, -0.069816133571825589,
    -0.0084968979001257619, 0.70036244834362327, -0.73486735259134162,
    -0.46270251262039408, 0.051091040823875632, 0.40089452737873471,
    -0.19752426398095513, 0.49174392722403765, -0.28025390934513739,
    -0.18835857741032416, 0.38779619507548369, 0.95117790280964465,
    -0.25135835344850871, -0.15962940070426573, 0.90483803688558107,
    -0.082927130575131472, 0.27875312126090951, -0.97079281074813428,
    -0.19188626095320221, 0.58215137671987138, 0.42162686299386615,
    0.17162621052447874, -0.86324547254571393, 0.65879928753926731,
    0.52745935325480164, -0.77283144748651467, 0.95989806541945744,
    -0.033543470324137105, 0.43596732642307351, 0.21340896042463584,
    -0.9474253632644497, 0.1778299593437162, -0.32830588341113831,
    -0.529794046954289, 0.538136004449087, 0.044297181021299786,
    0.9337458572196411, 0.1448975054681923, -0.10179203034518747,
    -0.19398596262668921, -0.062998980052499973, -1.0151199049273285,
    0.82775042942456323, 0.04781116915781751, 0.10932537331384594,
    0.53801903950693342, 0.62876396246673238, 0.55356124737810208,
    0.26968856255480766, 0.598243467193656, -0.23776728002397171,
    -0.1704423530594662, 0.59000499398067363, 0.32656950911218813,
    0.14945877369514735, -0.36267886714421094, -0.32285875861330621,
    -0.20038666243718573, 0.0908638603720618, 0.87758300716981985,
    -0.28266114185807395, 0.3503268233811398, 0.22005971618940759,
    0.18414952287276931, -0.3746052307235338, -0.31353236285113589,
    -0.18969185380543085, -0.066346415760833777, 0.20631545866684523,
    0.52883756410925642, -0.6854870053571519, 1.4752491634444416,
    -0.077165767939354382, 0.34872456416946868, -0.49004363465196177,
    -0.37458597594170034, -0.41418628724393008, -0.15362178512856534,
    -0.47405569510443474, -0.39330105260971271, -0.013011011134227741,
    0.17174342695225348, 0.41037686764702175, -0.066209705739756791,
    0.19399672080957395, 1.1153666812722989, -0.076329302101702329,
    0.31645051498624394, 0.30809119161524656, -0.33807128679161064,
    -0.18578344342172365, 0.18313735301677328, -0.56198729005945314,
    0.0039976031518529406, 0.41344465153686932, -0.56036796985308246,
    0.89594865718238081, 0.31156469852376811, -0.0655448145970775,
    0.15059469252591448, -0.60387915800802883, 0.044478434963948744,
    -0.3801552505962566, -0.45210199957633695, -0.12092307384933894,
    -0.49111986377988515, 1.4672375578416907, -1.0642072553560529,
    -0.25929865195519425, 0.47208500338039316, 0.67786696713647743,
    0.29615776641265495, -0.031089448609789037, -1.4109075438401408,
    -0.47460244411981067, 0.14779385718548566, -0.32372144294707739,
    0.461730277026146, -0.89946993173410861, 0.97013937304333731,
    0.046381995275386834, -0.11494077177107663, -0.90565421465648765,
    -0.057166221285549289, 0.48301504809036833, -0.68631018147033052,
    0.35146782774252522, -0.078822531373314839, -0.059609504507024284,
    -0.27055840353639732, -0.10354182089653717, 0.65660796076236161,
    -0.16638283513409416, -0.50307945790688624, 0.46111403721757543,
    -1.6750023423423608, -0.41359815702172692, -0.44174265632720705,
    0.38376159695358397, -0.48038755011486717, 0.3596372239658347,
    1.0891749462842615, 0.75125230650246344, 0.50149608787231137,
    -0.12583620818014155, 1.0430452669998995, 0.53691964992446073,
    1.1067274178962259, -0.9960417677766622, 0.53214561657845616,
    -0.76945167642443313, 0.040573549401858061, 0.098210650557979437,
    -0.63411182760876084, 1.5739077202183813, -0.15431534987205192,
    0.078785387666706175, -0.30570740219806058, -0.56250707005534772,
    0.1409983826540176, -0.82724161041505873, -0.0094685213265966184,
    -0.62307574660637133, -0.70888637943001043, 0.20435723944848555,
    -0.44766188409842972, -0.046737081048116573, -0.63020963255139151,
    0.18263401988204198, 0.61841340805852363, 0.96655841099354978,
    -0.69745698061660322, -0.63853447121888729, 0.18684903743409123,
    -0.52280877949306015, 1.0003797379527126 };

  emxArray_real_T *r0;
  int32_T exitg1;
  static const double b_a[5] = { -0.34128348541623793, -0.25524876372801975,
    -0.18804856774345835, -0.61811533374751182, -0.24752288784977558 };

  emxArray_real_T *b_C;
  static const double dv1[175] = { -1.6273079826376959, -0.66941480789960284,
    0.38684399587174895, 2.7693373580152567, 1.0954728874861575,
    2.2966771813801823, -4.293366984913245, -1.1204746133734462,
    1.6912607336972458, -0.095448250036583429, 1.1971621433011226,
    0.34357961942250143, -0.026133265485705371, 0.31973150815439583,
    -0.75635329576958532, -0.25904601779344666, 0.36017390296645435,
    -0.75934187545397946, 0.28759971103581289, 0.70830584098662908,
    2.353828033603929, -1.0254907382898846, -0.493827192626152,
    -1.1181582265117114, -0.32741821106907465, -3.4647457434012963,
    2.1401008758168945, 1.3476313488795229, -1.4694700853758451,
    -1.0284559822990118, -0.79634178067486627, 1.4971765384020719,
    -2.5351541436909466, 1.3480362145047216, -0.98307888148764744,
    2.0736000302381146, 1.9534181295478137, -3.652361170790023,
    -0.61594794910781392, 0.92182125083614319, -2.5571236119207326,
    0.89764154664266183, 3.0223750042020217, -0.87884980265727242,
    -0.66440363620529885, -1.6511959402513494, -1.2513970213526646,
    2.9249010238361253, -1.3128454567225785, 1.4176025946853361,
    0.79985003763255436, 3.7617467518565721, -2.2309501216223704,
    -1.6414018917512672, -0.025759024497792344, 0.14721869029831725,
    0.41386877017826484, -0.86040705163852149, 0.75039719456953713,
    0.32684282272373288, -1.9556296781171658, 0.79548441103982914,
    0.46807533105198096, 0.55201794015196759, -1.3093034115149613,
    3.29476076786568, -0.744901097162709, -2.5698940210394619,
    -0.14814544185559578, -0.73201566025355791, 5.4361074243100989,
    -1.7441012893184071, -2.39288900796384, -0.98744824311980162,
    0.80667053501928265, -2.5278693516034272, 3.4976644060591959,
    -0.89283460766339307, 1.4461887048119555, -0.13783499385025788,
    4.4770968322809219, -1.6832401049330807, -1.633762396597352,
    -1.6828465256383753, 0.80552335404200537, -2.5515597944243904,
    -0.58541833357350481, 2.0929614278742852, -0.542525062037582,
    -0.19085510961886351, -0.066258411532908623, -0.027303257244476128,
    -0.7518967318686125, 0.52385393307401129, 0.30521970795549075,
    0.71853999138234, -1.8103257829095163, -1.2500765862264949,
    2.014326813950722, 1.3834210763898755, 1.3645756962994497,
    -2.4677068111256393, 0.40183561879964158, 1.1641967931255757,
    -0.33013896096248446, -1.4518668243059369, 5.3996264259706193,
    -0.030631906944868816, -3.0091578896630629, -0.325459691459036,
    3.049953264461863, -2.2594189023609941, -1.6885893588203142,
    1.1770525032799657, -0.52881981373959486, -2.1584227067218769,
    2.373413771183555, -0.30559371614373154, 0.22303347830045725,
    -0.039849686620597555, 5.0000350797217976, -1.5742495229724009,
    -2.3083808187133652, -1.3320163330629347, -0.25088775372533934,
    0.88407133509538083, -0.391892270420755, -0.82290052681288184,
    -1.4821906865224048, 1.1864151570802932, -1.7118905977005217,
    -1.1703620420561986, 1.4675380614011806, -0.040688915624049936,
    0.047654982565755309, 0.98067930944146764, 0.9696758542270475,
    -0.901430815568044, 0.61390168592766292, 0.44312805945982714,
    4.2351154400639333, -1.9797633641924544, -3.7730717671919236,
    -0.81489923664857766, -0.42954615749723873, 3.2133247368967863,
    -1.5279720716855432, -3.1800422347775648, -0.27998788249749612,
    -0.20980456346743387, -1.2182073621400151, 0.31041072689380289,
    0.25965183108086248, 1.707111327931278, -0.9015471347394739,
    -1.066579184910319, 0.32522001049452931, 0.67232993264024676,
    0.01225094860485779, 0.6172503817625965, -0.34255716646727696,
    1.0777053676644661, 0.26183789322755607, -0.0037135080912368652,
    -0.31081190817175264, -0.3687559901645005, 0.21724510207328954,
    0.95452384089593156, 0.52868919037953666, -1.0318123023707249,
    -2.647436268038236, 4.5361490145012375, -1.2505110943937721,
    0.66771924240486225, -0.16547214322176723 };

  emxArray_real_T *r1;
  emxInit_real_T(&xp1, 2);
  emxInit_real_T(&a1, 2);

  /*  ===== NEURAL NETWORK CONSTANTS ===== */
  /*  Input 1 */
  /*  Layer 1 */
  /*  Layer 2 */
  /*  ===== SIMULATION ======== */
  /*  Dimensions */
  /*  samples */
  /*  Input 1 */
  mapminmax_apply(x1, xp1);

  /*  Layer 1 */
  unnamed_idx_1 = x1->size[1];
  ibtile = a1->size[0] * a1->size[1];
  a1->size[0] = 35;
  a1->size[1] = unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)a1, ibtile, (int)sizeof(double));
  unnamed_idx_1 = x1->size[1];
  if (unnamed_idx_1 == 0) {
  } else {
    br = 1;
    do {
      exitg2 = 0;
      unnamed_idx_1 = x1->size[1];
      if (br <= unnamed_idx_1) {
        ibtile = (br - 1) * 35;
        for (unnamed_idx_1 = 0; unnamed_idx_1 < 35; unnamed_idx_1++) {
          a1->data[ibtile + unnamed_idx_1] = a[unnamed_idx_1];
        }

        br++;
      } else {
        exitg2 = 1;
      }
    } while (exitg2 == 0);
  }

  emxInit_real_T(&C, 2);
  b_unnamed_idx_1 = (unsigned int)xp1->size[1];
  ibtile = C->size[0] * C->size[1];
  C->size[0] = 35;
  emxEnsureCapacity((emxArray__common *)C, ibtile, (int)sizeof(double));
  ibtile = C->size[0] * C->size[1];
  C->size[1] = (int)b_unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)C, ibtile, (int)sizeof(double));
  unnamed_idx_1 = 35 * (int)b_unnamed_idx_1;
  for (ibtile = 0; ibtile < unnamed_idx_1; ibtile++) {
    C->data[ibtile] = 0.0;
  }

  if (xp1->size[1] == 0) {
  } else {
    unnamed_idx_1 = 35 * (xp1->size[1] - 1);
    for (ibtile = 0; ibtile <= unnamed_idx_1; ibtile += 35) {
      for (ic = ibtile + 1; ic <= ibtile + 35; ic++) {
        C->data[ic - 1] = 0.0;
      }
    }

    br = 0;
    for (ibtile = 0; ibtile <= unnamed_idx_1; ibtile += 35) {
      ar = -1;
      for (ib = br; ib + 1 <= br + 28; ib++) {
        if (xp1->data[ib] != 0.0) {
          ia = ar;
          for (ic = ibtile; ic + 1 <= ibtile + 35; ic++) {
            ia++;
            C->data[ic] += xp1->data[ib] * dv0[ia];
          }
        }

        ar += 35;
      }

      br += 28;
    }
  }

  emxFree_real_T(&xp1);

  /*  Sigmoid Symmetric Transfer Function */
  ibtile = a1->size[0] * a1->size[1];
  a1->size[0] = 35;
  emxEnsureCapacity((emxArray__common *)a1, ibtile, (int)sizeof(double));
  unnamed_idx_1 = a1->size[0];
  ibtile = a1->size[1];
  unnamed_idx_1 *= ibtile;
  for (ibtile = 0; ibtile < unnamed_idx_1; ibtile++) {
    a1->data[ibtile] = -2.0 * (a1->data[ibtile] + C->data[ibtile]);
  }

  emxFree_real_T(&C);
  ibtile = 35 * a1->size[1];
  for (unnamed_idx_1 = 0; unnamed_idx_1 < ibtile; unnamed_idx_1++) {
    a1->data[unnamed_idx_1] = exp(a1->data[unnamed_idx_1]);
  }

  ibtile = a1->size[0] * a1->size[1];
  a1->size[0] = 35;
  emxEnsureCapacity((emxArray__common *)a1, ibtile, (int)sizeof(double));
  unnamed_idx_1 = a1->size[0];
  ibtile = a1->size[1];
  unnamed_idx_1 *= ibtile;
  for (ibtile = 0; ibtile < unnamed_idx_1; ibtile++) {
    a1->data[ibtile] = 2.0 / (1.0 + a1->data[ibtile]) - 1.0;
  }

  emxInit_real_T(&r0, 2);

  /*  Layer 2 */
  unnamed_idx_1 = x1->size[1];
  ibtile = r0->size[0] * r0->size[1];
  r0->size[0] = 5;
  r0->size[1] = unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)r0, ibtile, (int)sizeof(double));
  unnamed_idx_1 = x1->size[1];
  if (unnamed_idx_1 == 0) {
  } else {
    br = 1;
    do {
      exitg1 = 0;
      unnamed_idx_1 = x1->size[1];
      if (br <= unnamed_idx_1) {
        ibtile = (br - 1) * 5;
        for (unnamed_idx_1 = 0; unnamed_idx_1 < 5; unnamed_idx_1++) {
          r0->data[ibtile + unnamed_idx_1] = b_a[unnamed_idx_1];
        }

        br++;
      } else {
        exitg1 = 1;
      }
    } while (exitg1 == 0);
  }

  emxInit_real_T(&b_C, 2);
  b_unnamed_idx_1 = (unsigned int)a1->size[1];
  ibtile = b_C->size[0] * b_C->size[1];
  b_C->size[0] = 5;
  emxEnsureCapacity((emxArray__common *)b_C, ibtile, (int)sizeof(double));
  ibtile = b_C->size[0] * b_C->size[1];
  b_C->size[1] = (int)b_unnamed_idx_1;
  emxEnsureCapacity((emxArray__common *)b_C, ibtile, (int)sizeof(double));
  unnamed_idx_1 = 5 * (int)b_unnamed_idx_1;
  for (ibtile = 0; ibtile < unnamed_idx_1; ibtile++) {
    b_C->data[ibtile] = 0.0;
  }

  if (a1->size[1] == 0) {
  } else {
    unnamed_idx_1 = 5 * (a1->size[1] - 1);
    for (ibtile = 0; ibtile <= unnamed_idx_1; ibtile += 5) {
      for (ic = ibtile + 1; ic <= ibtile + 5; ic++) {
        b_C->data[ic - 1] = 0.0;
      }
    }

    br = 0;
    for (ibtile = 0; ibtile <= unnamed_idx_1; ibtile += 5) {
      ar = -1;
      for (ib = br; ib + 1 <= br + 35; ib++) {
        if (a1->data[ib] != 0.0) {
          ia = ar;
          for (ic = ibtile; ic + 1 <= ibtile + 5; ic++) {
            ia++;
            b_C->data[ic] += a1->data[ib] * dv1[ia];
          }
        }

        ar += 5;
      }

      br += 35;
    }
  }

  emxFree_real_T(&a1);
  emxInit_real_T(&r1, 2);
  ibtile = r1->size[0] * r1->size[1];
  r1->size[0] = 5;
  r1->size[1] = r0->size[1];
  emxEnsureCapacity((emxArray__common *)r1, ibtile, (int)sizeof(double));
  unnamed_idx_1 = r0->size[0] * r0->size[1];
  for (ibtile = 0; ibtile < unnamed_idx_1; ibtile++) {
    r1->data[ibtile] = r0->data[ibtile] + b_C->data[ibtile];
  }

  emxFree_real_T(&b_C);
  emxFree_real_T(&r0);
  softmax_apply(r1, b_y1);

  /*  Output 1 */
  emxFree_real_T(&r1);
}



/*
 * File trailer for RNA35b.c
 *
 * [EOF]
 */
